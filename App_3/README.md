# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

## üß© –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã  
–°–æ–∑–¥–∞—Ç—å Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî **—Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Å –ø–æ–º–æ—â—å—é —Ñ–∏–ª—å—Ç—Ä–æ–≤, –æ–±—Ä–µ–∑–∫–∏, —Ç–µ–∫—Å—Ç–∞ –∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è, –∞ –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

---

## üì± –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

1. **–í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–æ –∏–∑ **–≥–∞–ª–µ—Ä–µ–∏** –∏–ª–∏ —Å–Ω—è—Ç–æ —Å –ø–æ–º–æ—â—å—é **–∫–∞–º–µ—Ä—ã**.
   - **–ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π image picker.** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—ã–±–∏—Ä–∞—Ç—å —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≥–∞–ª–µ—Ä–µ–∏** (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π UI).
   - –ù–µ–æ–±—Ö–æ–¥–∏–º—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `READ_EXTERNAL_STORAGE`, `CAMERA`, `WRITE_EXTERNAL_STORAGE`.

2. **–§–∏–ª—å—Ç—Ä—ã:**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç **3 –¥–æ 5** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: —á–µ—Ä–Ω–æ-–±–µ–ª—ã–π, —Å–µ–ø–∏—è, –∏–Ω–≤–µ—Ä—Å–∏—è, –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ –∏ —è—Ä–∫–æ—Å—Ç–∏).
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Canvas / ColorMatrix / OpenGL / RenderScript (–Ω–∞ –≤—ã–±–æ—Ä).

3. **–û–±—Ä–µ–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Crop):**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–≤—ã–¥–µ–ª–∏—Ç—å –Ω—É–∂–Ω—É—é –æ–±–ª–∞—Å—Ç—å** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –∏ **—Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –µ–≥–æ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞.**

5. **–†–∏—Å–æ–≤–∞–Ω–∏–µ:**
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏–∏ –æ—Ç —Ä—É–∫–∏.
   - **–í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ –∏ —Ç–æ–ª—â–∏–Ω—ã –∫–∏—Å—Ç–∏.**

6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
   - –ò—Ç–æ–≥–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –≥–∞–ª–µ—Ä–µ—é** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPG –∏–ª–∏ PNG.

---

## üìö –°–ø—Ä–∞–≤–∫–∞

### üì∏ –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∏–∫–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intent.ACTION_PICK!**  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ MediaStore
```kotlin
val uriExternal: Uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI
val projection = arrayOf(MediaStore.Images.Media._ID)

val cursor = context.contentResolver.query(
    uriExternal,
    projection,
    null,
    null,
    "${MediaStore.Images.Media.DATE_ADDED} DESC"
)

val imageUris = mutableListOf<Uri>()
cursor?.use {
    val idColumn = it.getColumnIndexOrThrow(MediaStore.Images.Media._ID)
    while (it.moveToNext()) {
        val id = it.getLong(idColumn)
        val contentUri = ContentUris.withAppendedId(uriExternal, id)
        imageUris.add(contentUri)
    }
}
```

#### –®–∞–≥ 2: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–≤–æ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ RecyclerView
–°–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç–æ–π `UI` —Å `RecyclerView`, –≥–¥–µ –∫–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é —Ñ–æ—Ç–æ (`ImageView` —Å `Glide` \ `Coil`). **–í–∞–∂–Ω–æ –Ω–µ –∑–∞–±—ã—Ç—å –ø—Ä–æ –ø–∞–≥–∏–Ω–∞—Ü–∏—é**.

#### –®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Äì –ø–µ—Ä–µ–¥–∞–π `Uri` –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.

## üì¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –î–ª—è –æ–±—Ä–µ–∑–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Bitmap.createBitmap(...)` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏.
- –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Canvas` + `Paint`.
- –§–∏–ª—å—Ç—Ä—ã ‚Äî —á–µ—Ä–µ–∑ `ColorMatrix`, `ColorFilter`, –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
- –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MediaStore` –∏–ª–∏ `FileOutputStream`.

